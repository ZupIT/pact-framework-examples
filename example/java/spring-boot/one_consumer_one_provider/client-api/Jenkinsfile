#!groovy
pipeline {
    agent any
    environment {
        BRANCH_NAME=env.GIT_BRANCH.replace("origin/", "")
    }
    stages {
        dir('./example/java/spring-boot/one_consumer_one_provider/client-api') {
            echo "Working on dir `pwd`"
        }
        stage('Build artifact') {
            steps {
                sh "pwd"
                sh "chmod +x mvnw"
                sh "./mvnw clean verify"
            }
        }
        stage('Publish to Pact') {
            input {
                message "Publish Pact to Broker?"
                ok "Yes, for sure ."
            }
            steps {
                echo "Publicando Pact no Broker"
            }
        }

    }
}